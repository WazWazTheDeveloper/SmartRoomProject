(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-583aae1c"],{"113e":function(e,t,n){"use strict";n("c25d")},4221:function(e,t,n){"use strict";n.r(t);var a=n("c964"),c=(n("96cf"),n("b0c0"),n("d81d"),n("a434"),n("7a23")),r=n("fad6"),o=n("2ef0"),i=n.n(o),u=n("6c02"),l=n("c9a1"),s=n("3ef4"),b=n("a90d"),p=n("727c"),d=n("b8fe"),O=n("9d39"),j=function(e){return Object(c["pushScopeId"])("data-v-c7ba0d58"),e=e(),Object(c["popScopeId"])(),e},f={key:0,class:"section-header"},m=j((function(){return Object(c["createElementVNode"])("div",null,null,-1)})),v={class:"table-data-without-break"},w=["onClick"],k={key:1,class:"not-standalone-btn"},x={props:{integration:{type:Boolean,required:!1,default:!1},gatewayName:{type:String,required:!1,default:""},list:{type:Array,required:!1,default:function(){return[]}}},emits:["list"],setup:function(e,t){var n=t.emit,o=e,j=Object(c["computed"])((function(){return o.integration})),x=Object(u["e"])(),y=Object(O["a"])("Gateway"),C=y.t,h=y.tl,g=(x.params.name||o.gatewayName).toLowerCase(),N=Object(p["a"])(),B=N.normalizeStructure,_=N.deNormalizeStructure,V=N.transPort,S=Object(c["ref"])(!1),D=Object(c["ref"])([]),T=Object(c["ref"])(!1),L=Object(c["ref"])(void 0),A=0,E=function(){L.value=void 0,S.value=!0},M=function(e,t){L.value=e,A=t,S.value=!0},R=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return T.value=!0,e.prev=1,e.next=4,Object(r["o"])(g);case 4:t=e.sent,D.value=t.map((function(e){return _(e,g)})),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:return e.prev=10,T.value=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,8,10,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!!L.value,n?D.value.splice(A,1,t):D.value.push(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["a"].confirm(C("Base.confirmDelete"),{confirmButtonText:C("Base.confirm"),cancelButtonText:C("Base.cancel"),type:"warning"});case 2:if(!o.integration){e.next=6;break}D.value.splice(D.value.indexOf(t),1),e.next=15;break;case 6:return e.prev=6,e.next=9,Object(r["f"])(g,t.id);case 9:s["a"].success(C("Base.deleteSuccess")),R(),e.next=15;break;case 13:e.prev=13,e.t0=e["catch"](6);case 15:!0===S.value&&(S.value=!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(c["watch"])((function(){return i.a.cloneDeep(D.value)}),(function(e){o.integration&&n("update:list",e.map((function(e){return B(e)})))})),Object(c["onMounted"])((function(){o.integration?D.value=o.list.map((function(e){return _(e,g)})):R()})),function(t,n){var a=Object(c["resolveComponent"])("el-button"),r=Object(c["resolveComponent"])("el-table-column"),o=Object(c["resolveComponent"])("el-table"),u=Object(c["resolveDirective"])("loading");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",null,[Object(c["unref"])(j)?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",f,[m,Object(c["createVNode"])(a,{type:"primary",icon:Object(c["unref"])(b["a"]),onClick:E},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(Object(c["unref"])(h)("addListener")),1)]})),_:1},8,["icon"])])),Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])(o,{data:Object(c["unref"])(D)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(r,{label:t.$t("Base.name"),prop:"name","show-overflow-tooltip":""},{default:Object(c["withCtx"])((function(e){var t=e.row,n=e.$index;return[Object(c["createElementVNode"])("p",v,[Object(c["createElementVNode"])("a",{href:"javascript:;",onClick:function(e){return M(t,n)}},Object(c["toDisplayString"])(t.name),9,w)])]})),_:1},8,["label"]),Object(c["createVNode"])(r,{label:Object(c["unref"])(h)("lType"),prop:"type"},null,8,["label"]),Object(c["createVNode"])(r,{label:Object(c["unref"])(h)("lAddress"),prop:"bind"},{default:Object(c["withCtx"])((function(e){var t=e.row;return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(Object(c["unref"])(V)(t.bind)),1)]})),_:1},8,["label"]),Object(c["createVNode"])(r,{label:Object(c["unref"])(h)("lMaxConn"),prop:"max_connections"},{default:Object(c["withCtx"])((function(e){var t=e.row;return[Object(c["createTextVNode"])(Object(c["toDisplayString"])("string"===typeof t.max_connections?Object(c["unref"])(i.a).startCase(t.max_connections):t.max_connections),1)]})),_:1},8,["label"]),Object(c["createVNode"])(r,{label:t.$t("BasicConfig.acceptors"),prop:"acceptors"},{default:Object(c["withCtx"])((function(e){var t=e.row;return[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(""===t.acceptors||void 0===t.acceptors?"-":t.acceptors),1)]})),_:1},8,["label"])]})),_:1},8,["data"])),[[u,Object(c["unref"])(T)]]),Object(c["unref"])(j)?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",k,[Object(c["createVNode"])(a,{type:"primary",icon:Object(c["unref"])(b["a"]),onClick:E},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(Object(c["unref"])(h)("addListener")),1)]})),_:1},8,["icon"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(d["a"],{modelValue:Object(c["unref"])(S),"onUpdate:modelValue":n[0]||(n[0]=function(e){return Object(c["isRef"])(S)?S.value=e:S=e}),listener:L.value,gatewayName:Object(c["unref"])(g),doNotSubmitToBackend:e.integration,onSubmitted:R,onSubmit:G,onDelete:n[1]||(n[1]=function(e){return P(e)})},null,8,["modelValue","listener","gatewayName","doNotSubmitToBackend"])])}}},y=(n("113e"),n("6b0d")),C=n.n(y);const h=C()(x,[["__scopeId","data-v-c7ba0d58"]]);t["default"]=h},5900:function(e,t,n){"use strict";n("8510")},8510:function(e,t,n){},c25d:function(e,t,n){},c860:function(e,t,n){"use strict";n.r(t);n("99af"),n("b0c0");var a=n("7a23"),c={class:"app-wrapper gateway-create"},r={class:"section-header"},o={class:"part-header"},i={class:"config-auth"};function u(e,t,n,u,l,s){var b=Object(a["resolveComponent"])("el-step"),p=Object(a["resolveComponent"])("el-steps"),d=Object(a["resolveComponent"])("el-col"),O=Object(a["resolveComponent"])("el-row"),j=Object(a["resolveComponent"])("stomp-basic"),f=Object(a["resolveComponent"])("mqttsn-basic"),m=Object(a["resolveComponent"])("coap-basic"),v=Object(a["resolveComponent"])("lw-basic"),w=Object(a["resolveComponent"])("exproto-basic"),k=Object(a["resolveComponent"])("listeners"),x=Object(a["resolveComponent"])("el-button"),y=Object(a["resolveComponent"])("el-card");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",r,Object(a["toDisplayString"])("".concat(e.tl("initial")," ").concat(e.transGatewayName(e.name))),1),Object(a["createVNode"])(O,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(d,{span:16},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(p,{active:e.stepActive,"finish-status":"success"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(b,{title:e.tl("basicConfig")},null,8,["title"]),Object(a["createVNode"])(b,{title:e.tl("listeners")},null,8,["title"]),Object(a["createVNode"])(b,{title:e.tl("auth")},null,8,["title"])]})),_:1},8,["active"])]})),_:1})]})),_:1}),Object(a["createVNode"])(O,{class:"config-main"},{default:Object(a["withCtx"])((function(){return[0===e.stepActive?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:0,span:18,class:"config-basic"},{default:Object(a["withCtx"])((function(){return["stomp"===e.name?(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,value:e.basicData,"onUpdate:value":t[0]||(t[0]=function(t){return e.basicData=t})},null,8,["value"])):"mqttsn"===e.name?(Object(a["openBlock"])(),Object(a["createBlock"])(f,{key:1,value:e.basicData,"onUpdate:value":t[1]||(t[1]=function(t){return e.basicData=t})},null,8,["value"])):"coap"===e.name?(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:2,value:e.basicData,"onUpdate:value":t[2]||(t[2]=function(t){return e.basicData=t})},null,8,["value"])):"lwm2m"===e.name?(Object(a["openBlock"])(),Object(a["createBlock"])(v,{key:3,value:e.basicData,"onUpdate:value":t[3]||(t[3]=function(t){return e.basicData=t})},null,8,["value"])):"exproto"===e.name?(Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:4,value:e.basicData,"onUpdate:value":t[4]||(t[4]=function(t){return e.basicData=t})},null,8,["value"])):Object(a["createCommentVNode"])("",!0)]})),_:1})):1===e.stepActive?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:1,span:24},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(k,{integration:!0,"gateway-name":e.name,list:e.listenerList,"onUpdate:list":t[5]||(t[5]=function(t){return e.listenerList=t})},null,8,["gateway-name","list"])]})),_:1})):2===e.stepActive?(Object(a["openBlock"])(),Object(a["createBlock"])(d,{key:2,span:24},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",o,Object(a["toDisplayString"])(e.tl("clientAuth")),1),Object(a["createElementVNode"])("div",i,Object(a["toDisplayString"])(e.tl("clientAuthDesc")),1)]})),_:1})):Object(a["createCommentVNode"])("",!0)]})),_:1}),Object(a["createVNode"])(O,{class:"config-op"},{default:Object(a["withCtx"])((function(){return[0===e.stepActive?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:0,onClick:e.gotoList},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("Base.cancel")),1)]})),_:1},8,["onClick"])):Object(a["createCommentVNode"])("",!0),e.stepActive>0?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:1,onClick:t[6]||(t[6]=function(t){return--e.stepActive}),disabled:e.submitLoading},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("Base.backStep")),1)]})),_:1},8,["disabled"])):Object(a["createCommentVNode"])("",!0),e.stepActive<2?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:2,type:"primary",onClick:e.handleNextStep,disabled:e.submitLoading},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("Base.nextStep")),1)]})),_:1},8,["onClick","disabled"])):Object(a["createCommentVNode"])("",!0),2===e.stepActive?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:3,type:"primary",loading:e.submitLoading,onClick:t[7]||(t[7]=function(t){return e.createGateway()})},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$t("Base.enable")),1)]})),_:1},8,["loading"])):Object(a["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])}var l=n("d0ff"),s=n("f3f3"),b=n("c964"),p=(n("96cf"),n("d738")),d=n("4221"),O=n("0a10"),j=n("fb7e"),f=n("db5b"),m=n("dd7e"),v=n("fad6"),w=n("afbc"),k=n("3ef4"),x=n("47e2"),y=n("6c02"),C=n("68d4"),h=n("ca5a"),g=n("d58a"),N={exproto:{type:"tcp",name:"default",bind:"7993",acceptors:16,max_conn_rate:1e3,max_connections:1024e3},lwm2m:{type:"udp",name:"default",bind:"5783",max_conn_rate:1e3,max_connections:1024e3},coap:{type:"udp",name:"default",bind:"5683",max_conn_rate:1e3,max_connections:1024e3},mqttsn:{type:"udp",name:"default",bind:"1884",max_conn_rate:1e3,max_connections:1024e3},stomp:{type:"tcp",name:"default",bind:"61613",max_conn_rate:1e3,max_connections:1024e3}},B=Object(a["defineComponent"])({components:{stompBasic:f["a"],Listeners:d["default"],MqttsnBasic:j["a"],LwBasic:O["a"],CoapBasic:p["a"],ExprotoBasic:m["a"]},name:"GatewayCreate",setup:function(){var e=Object(a["ref"])(0),t=Object(a["ref"])({}),n=Object(a["ref"])([]),c=Object(a["ref"])(!1),r=Object(x["b"])(),o=r.t,i=Object(y["e"])(),u=String(i.params.name).toLowerCase(),p=Object(g["a"])(),d=p.transGatewayName,O=function(){w["a"].push({name:"gateway"})},j=Object(C["a"])(),f=j.handleExprotoData,m=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Object(s["a"])(Object(s["a"])({},t.value),{},{listeners:Object(l["a"])(n.value),name:u}),u===h["n"].ExProto&&(a=f(a)),e.prev=2,c.value=!0,e.next=6,Object(v["s"])(u,a);case 6:k["a"].success(o("Base.createSuccess")),O(),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](2);case 12:return e.prev=12,c.value=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,10,12,15]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u||O(),e.prev=1,e.next=4,Object(v["i"])(u);case 4:t=e.sent,n=t.status,"unloaded"!==n&&(k["a"].error(o("Gateway.alreadyLoad")),O()),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){if("exproto"===u&&0===e.value&&t.value.server.ssl_options.enable){var n=t.value.server.ssl_options,a=n.certfile,c=n.keyfile;if(!a||!c)return k["a"].warning(o("Gateway.missinggRPCTLSFile")),!1}return!0},V=function(){var t=_();t&&(e.value+=1)};return Object(a["onMounted"])((function(){B();var e=N[u];e&&n.value.push(Object(s["a"])({},e))})),{tl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Gateway";return o(t+"."+e)},stepActive:e,basicData:t,gotoList:O,listenerList:n,submitLoading:c,createGateway:m,name:u,handleNextStep:V,transGatewayName:d}}}),_=(n("5900"),n("6b0d")),V=n.n(_);const S=V()(B,[["render",u],["__scopeId","data-v-1a54a505"]]);t["default"]=S},d58a:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("fc11"),c=n("ca5a");function r(){var e=function(e){var t,n=(t={},Object(a["a"])(t,c["n"].CoAP,"CoAP"),Object(a["a"])(t,c["n"].LwM2M,"LwM2M"),Object(a["a"])(t,c["n"].ExProto,"ExProto"),Object(a["a"])(t,c["n"].MQTT_SN,"MQTT-SN"),Object(a["a"])(t,c["n"].STOMP,"STOMP"),t);return n[e]};return{transGatewayName:e}}}}]);